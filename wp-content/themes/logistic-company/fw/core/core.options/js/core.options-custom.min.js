jQuery(document).ready(function(){LOGISTIC_COMPANY_STORAGE.media_frame=null;LOGISTIC_COMPANY_STORAGE.media_link="";jQuery(".logistic_company_media_selector").on("click",function(a){logistic_company_show_media_manager(this);a.preventDefault();return false})});function logistic_company_show_media_manager(a){LOGISTIC_COMPANY_STORAGE.media_link=jQuery(a);if(LOGISTIC_COMPANY_STORAGE.media_frame){LOGISTIC_COMPANY_STORAGE.media_frame.open();return false}LOGISTIC_COMPANY_STORAGE.media_frame=wp.media({title:LOGISTIC_COMPANY_STORAGE.media_link.data("choose"),library:{type:"image"},multiple:LOGISTIC_COMPANY_STORAGE.media_link.data("multiple")===true?"add":false,button:{text:LOGISTIC_COMPANY_STORAGE.media_link.data("update"),close:true}});LOGISTIC_COMPANY_STORAGE.media_frame.on("select",function(b){var c=jQuery("#"+LOGISTIC_COMPANY_STORAGE.media_link.data("linked-field")).eq(0);var e="";if(LOGISTIC_COMPANY_STORAGE.media_link.data("multiple")===true){LOGISTIC_COMPANY_STORAGE.media_frame.state().get("selection").map(function(f){e+=(e?"\n":"")+f.toJSON().url});var d=c.val();e=d+(d?"\n":"")+e}else{e=LOGISTIC_COMPANY_STORAGE.media_frame.state().get("selection").first().toJSON().url}c.val(e);if(c.siblings("img").length>0){c.siblings("img").attr("src",e)}c.trigger("change")});LOGISTIC_COMPANY_STORAGE.media_frame.open();return false};