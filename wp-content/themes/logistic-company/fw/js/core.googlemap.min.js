function logistic_company_googlemap_init(a,b){if(typeof LOGISTIC_COMPANY_STORAGE.googlemap_init_obj=="undefined"){logistic_company_googlemap_init_styles()}LOGISTIC_COMPANY_STORAGE.googlemap_init_obj.geocoder="";try{var d=a.id;LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d]={dom:a,markers:b.markers,geocoder_request:false,opt:{zoom:b.zoom,center:null,scrollwheel:false,scaleControl:false,disableDefaultUI:false,panControl:true,zoomControl:true,mapTypeControl:false,streetViewControl:false,overviewMapControl:false,styles:LOGISTIC_COMPANY_STORAGE.googlemap_styles[b.style?b.style:"default"],mapTypeId:google.maps.MapTypeId.ROADMAP}};logistic_company_googlemap_create(d)}catch(c){dcl(LOGISTIC_COMPANY_STORAGE.strings["googlemap_not_avail"])}}function logistic_company_googlemap_create(b){LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[b].map=new google.maps.Map(LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[b].dom,LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[b].opt);for(var a in LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[b].markers){LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[b].markers[a].inited=false}logistic_company_googlemap_add_markers(b);jQuery(window).resize(function(){if(LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[b].map){LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[b].map.setCenter(LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[b].opt.center)}})}function logistic_company_googlemap_add_markers(d){for(var b in LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].markers){if(LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].markers[b].inited){continue}if(LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].markers[b].latlng==""){if(LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].geocoder_request!==false){continue}if(LOGISTIC_COMPANY_STORAGE.googlemap_init_obj.geocoder==""){LOGISTIC_COMPANY_STORAGE.googlemap_init_obj.geocoder=new google.maps.Geocoder()}LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].geocoder_request=b;LOGISTIC_COMPANY_STORAGE.googlemap_init_obj.geocoder.geocode({address:LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].markers[b].address},function(g,f){if(f==google.maps.GeocoderStatus.OK){var e=LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].geocoder_request;if(g[0].geometry.location.lat&&g[0].geometry.location.lng){LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].markers[e].latlng=""+g[0].geometry.location.lat()+","+g[0].geometry.location.lng()}else{LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].markers[e].latlng=g[0].geometry.location.toString().replace(/\(\)/g,"")}LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].geocoder_request=false;setTimeout(function(){logistic_company_googlemap_add_markers(d)},200)}else{dcl(LOGISTIC_COMPANY_STORAGE.strings["geocode_error"]+" "+f)}})}else{var c=LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].markers[b].latlng.split(",");var a={map:LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].map,position:new google.maps.LatLng(c[0],c[1]),clickable:LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].markers[b].description!=""};if(LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].markers[b].point){a.icon=LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].markers[b].point}if(LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].markers[b].title){a.title=LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].markers[b].title}LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].markers[b].marker=new google.maps.Marker(a);if(LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].opt.center==null){LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].opt.center=a.position;LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].map.setCenter(LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].opt.center)}if(LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].markers[b].description!=""){LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].markers[b].infowindow=new google.maps.InfoWindow({content:LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].markers[b].description});google.maps.event.addListener(LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].markers[b].marker,"click",function(g){var h=g.latLng.toString().replace("(","").replace(")","").replace(" ","");for(var f in LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].markers){if(h==LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].markers[f].latlng){LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].markers[f].infowindow.open(LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].map,LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].markers[f].marker);break}}})}LOGISTIC_COMPANY_STORAGE.googlemap_init_obj[d].markers[b].inited=true}}}function logistic_company_googlemap_refresh(){for(id in LOGISTIC_COMPANY_STORAGE.googlemap_init_obj){logistic_company_googlemap_create(id)}}function logistic_company_googlemap_init_styles(){LOGISTIC_COMPANY_STORAGE.googlemap_init_obj={};LOGISTIC_COMPANY_STORAGE.googlemap_styles={"default":[]};if(window.logistic_company_theme_googlemap_styles!==undefined){LOGISTIC_COMPANY_STORAGE.googlemap_styles=logistic_company_theme_googlemap_styles(LOGISTIC_COMPANY_STORAGE.googlemap_styles)}};